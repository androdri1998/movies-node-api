FROM node:16

WORKDIR /usr/src/app

COPY package*.json ./

COPY . .

ENV PORT=PORT
ENV DEBUG=DEBUG
ENV USER_DB=USER_DB
ENV HOST_DB=HOST_DB
ENV DATABASE_NAME=DATABASE_NAME
ENV PASSWORD_DB=PASSWORD_DB
ENV PORT_DB=PORT_DB
ENV SECRET=SECRET

RUN npm install

RUN npm run build

EXPOSE $PORT

ENTRYPOINT [ "node", "dist/server.js"]
